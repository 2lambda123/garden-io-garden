"use strict";
/*
 * Copyright (C) 2018 Garden Technologies, Inc. <info@garden.io>
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */
Object.defineProperty(exports, "__esModule", { value: true });
const Joi = require("joi");
const common_1 = require("./common");
exports.serviceOutputsSchema = common_1.joiIdentifierMap(common_1.joiPrimitive());
exports.baseServiceSchema = Joi.object()
    .keys({
    name: common_1.joiIdentifier().required(),
    dependencies: common_1.joiArray(common_1.joiIdentifier())
        .description("The names of services that this service depends on at runtime."),
    outputs: exports.serviceOutputsSchema,
})
    .unknown(true)
    .meta({ extendable: true })
    .description("The required attributes of a service. This is generally further defined by plugins.");
exports.serviceConfigSchema = exports.baseServiceSchema
    .keys({
    spec: Joi.object()
        .meta({ extendable: true })
        .description("The service's specification, as defined by its provider plugin."),
})
    .description("The configuration for a module's service.");

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy9zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7O0dBTUc7O0FBRUgsMkJBQTBCO0FBQzFCLHFDQUFnRztBQVVuRixRQUFBLG9CQUFvQixHQUFHLHlCQUFnQixDQUFDLHFCQUFZLEVBQUUsQ0FBQyxDQUFBO0FBRXZELFFBQUEsaUJBQWlCLEdBQUcsR0FBRyxDQUFDLE1BQU0sRUFBRTtLQUMxQyxJQUFJLENBQUM7SUFDSixJQUFJLEVBQUUsc0JBQWEsRUFBRSxDQUFDLFFBQVEsRUFBRTtJQUNoQyxZQUFZLEVBQUUsaUJBQVEsQ0FBQyxzQkFBYSxFQUFFLENBQUM7U0FDcEMsV0FBVyxDQUFDLGdFQUFnRSxDQUFDO0lBQ2hGLE9BQU8sRUFBRSw0QkFBb0I7Q0FDOUIsQ0FBQztLQUNELE9BQU8sQ0FBQyxJQUFJLENBQUM7S0FDYixJQUFJLENBQUMsRUFBRSxVQUFVLEVBQUUsSUFBSSxFQUFFLENBQUM7S0FDMUIsV0FBVyxDQUFDLHFGQUFxRixDQUFDLENBQUE7QUFPeEYsUUFBQSxtQkFBbUIsR0FBRyx5QkFBaUI7S0FDakQsSUFBSSxDQUFDO0lBQ0osSUFBSSxFQUFFLEdBQUcsQ0FBQyxNQUFNLEVBQUU7U0FDZixJQUFJLENBQUMsRUFBRSxVQUFVLEVBQUUsSUFBSSxFQUFFLENBQUM7U0FDMUIsV0FBVyxDQUFDLGlFQUFpRSxDQUFDO0NBQ2xGLENBQUM7S0FDRCxXQUFXLENBQUMsMkNBQTJDLENBQUMsQ0FBQSIsImZpbGUiOiJjb25maWcvc2VydmljZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTggR2FyZGVuIFRlY2hub2xvZ2llcywgSW5jLiA8aW5mb0BnYXJkZW4uaW8+XG4gKlxuICogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpc1xuICogZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy5cbiAqL1xuXG5pbXBvcnQgKiBhcyBKb2kgZnJvbSBcImpvaVwiXG5pbXBvcnQgeyBQcmltaXRpdmVNYXAsIGpvaUlkZW50aWZpZXIsIGpvaUlkZW50aWZpZXJNYXAsIGpvaVByaW1pdGl2ZSwgam9pQXJyYXkgfSBmcm9tIFwiLi9jb21tb25cIlxuXG5leHBvcnQgaW50ZXJmYWNlIFNlcnZpY2VTcGVjIHsgfVxuXG5leHBvcnQgaW50ZXJmYWNlIEJhc2VTZXJ2aWNlU3BlYyBleHRlbmRzIFNlcnZpY2VTcGVjIHtcbiAgbmFtZTogc3RyaW5nXG4gIGRlcGVuZGVuY2llczogc3RyaW5nW11cbiAgb3V0cHV0czogUHJpbWl0aXZlTWFwXG59XG5cbmV4cG9ydCBjb25zdCBzZXJ2aWNlT3V0cHV0c1NjaGVtYSA9IGpvaUlkZW50aWZpZXJNYXAoam9pUHJpbWl0aXZlKCkpXG5cbmV4cG9ydCBjb25zdCBiYXNlU2VydmljZVNjaGVtYSA9IEpvaS5vYmplY3QoKVxuICAua2V5cyh7XG4gICAgbmFtZTogam9pSWRlbnRpZmllcigpLnJlcXVpcmVkKCksXG4gICAgZGVwZW5kZW5jaWVzOiBqb2lBcnJheShqb2lJZGVudGlmaWVyKCkpXG4gICAgICAuZGVzY3JpcHRpb24oXCJUaGUgbmFtZXMgb2Ygc2VydmljZXMgdGhhdCB0aGlzIHNlcnZpY2UgZGVwZW5kcyBvbiBhdCBydW50aW1lLlwiKSxcbiAgICBvdXRwdXRzOiBzZXJ2aWNlT3V0cHV0c1NjaGVtYSxcbiAgfSlcbiAgLnVua25vd24odHJ1ZSlcbiAgLm1ldGEoeyBleHRlbmRhYmxlOiB0cnVlIH0pXG4gIC5kZXNjcmlwdGlvbihcIlRoZSByZXF1aXJlZCBhdHRyaWJ1dGVzIG9mIGEgc2VydmljZS4gVGhpcyBpcyBnZW5lcmFsbHkgZnVydGhlciBkZWZpbmVkIGJ5IHBsdWdpbnMuXCIpXG5cbmV4cG9ydCBpbnRlcmZhY2UgU2VydmljZUNvbmZpZzxUIGV4dGVuZHMgU2VydmljZVNwZWMgPSBTZXJ2aWNlU3BlYz4gZXh0ZW5kcyBCYXNlU2VydmljZVNwZWMge1xuICAvLyBQbHVnaW5zIGNhbiBhZGQgY3VzdG9tIGZpZWxkcyB0aGF0IGFyZSBrZXB0IGhlcmVcbiAgc3BlYzogVFxufVxuXG5leHBvcnQgY29uc3Qgc2VydmljZUNvbmZpZ1NjaGVtYSA9IGJhc2VTZXJ2aWNlU2NoZW1hXG4gIC5rZXlzKHtcbiAgICBzcGVjOiBKb2kub2JqZWN0KClcbiAgICAgIC5tZXRhKHsgZXh0ZW5kYWJsZTogdHJ1ZSB9KVxuICAgICAgLmRlc2NyaXB0aW9uKFwiVGhlIHNlcnZpY2UncyBzcGVjaWZpY2F0aW9uLCBhcyBkZWZpbmVkIGJ5IGl0cyBwcm92aWRlciBwbHVnaW4uXCIpLFxuICB9KVxuICAuZGVzY3JpcHRpb24oXCJUaGUgY29uZmlndXJhdGlvbiBmb3IgYSBtb2R1bGUncyBzZXJ2aWNlLlwiKVxuIl19
